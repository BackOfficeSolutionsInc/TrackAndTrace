<div class="btn-group pull-right" style="padding: 5px 0px;">
	<div class="btn btn-default btn-xs measurableModal" data-recurrence="{{meetingId}}"><span class="icon fontastic-icon-science-laboratory"></span> Add Measurable</div>
</div>

<div class="scorecard meeting-page" style="clear: both;">
	<div class="row">
		<div class="col-md-12">
			<div class="component">
				<div class="clearfix"></div>
				<div style="position: relative;">
					<div class="table-responsive" style="min-height: 600px;">
						<table id="ScorecardTable" class="scorecard-table">
							<thead>
								<tr>
									<th>&nbsp;</th>
									<th>&nbsp;</th>
									<th>&nbsp;</th>
									<th>&nbsp;</th>
									<th>&nbsp;</th>
									<th ng-repeat="week in (model.Scorecard|transform:this).Weeks" class="date" ng-class="{current:week.IsCurrentWeek}" colspan="{{week.IsCurrentWeek ? 2 : 1}}">
										{{functions.subtractDays(week.DisplayDate,6) | date:'MM/dd'}}
									</th>

								</tr>
								<tr>
									<th class="heading who alignRight">Accountable</th>
									<th class="heading who alignLeft "><span class="newLine gray">/Admin</span></th>
									<th class="heading measurable">Measurable</th>
									<th class="heading target" colspan="2">Target</th>
									<th ng-repeat="week in (model.Scorecard|transform:this).Weeks" class="date" ng-class="{current:week.IsCurrentWeek}" colspan="{{week.IsCurrentWeek ? 2 : 1}}">
										{{week.DisplayDate | date:'MM/dd'}}
									</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="measurable in (model.Scorecard|transform:this).Measurables | orderBy: ['Owner.Id']">
									<td class="who first1 alignRight">{{measurable.Owner.Name}}</td>
									<td class="who first1 alignLeft"><span class="newLine gray">/{{measurable.Admin.Name}}</span></td>
									<td class="measurable first1" title="{{measurable.Name}}"><span class="inlineEdit" data-type="text" data-name="title" data-measurable="{{measurable.Id}}" data-pk="{{meetingMeasurable.Id}}" data-url="/L10/UpdateMeasurable">{{measurable.Name}}</span></td>
									<td class="target direction" data-measurable="{{meetingMeasurable.Id}}">
										<span class="inlineEdit direction_{{measurable.Direction}}" 
										      data-type="select" 
										      data-name="direction" 
										      data-measurable="{{measurable.Id}}" 
										      data-pk="{{meetingMeasurable.Id}}" 
										      data-url="/L10/UpdateMeasurable" 
										      data-source="/Dropdown/Type/lessgreater" 
										      data-title="Select target direction" 
											  data-value="{{measurable.Direction}}"></span>
									</td>
									<td class="target value" data-measurable="{{meetingMeasurable.Id}}">
										<span class="inlineEdit modifiers {{measurable.Modifiers}}" 
										      data-type="number" 
										      data-name="target" 
										      data-measurable="{{measurable.Id}}" 
										      data-pk="{{meetingMeasurable.Id}}" 
										      data-url="/L10/UpdateMeasurable">{{(measurable.Target)*1}}</span>
									</td>

								
									<td ng-repeat="week in (model.Scorecard|transform:this).Weeks"  class="score" ng-class="{current:week.IsCurrentWeek}">
										<input data-goal="{{measurable.Target}}"
											   data-goal-dir="{{measurable.Direction}}"
											   data-row="{{$parent.$index}}"
											   data-col="{{$index}}"
											   type="text"
										       placeholder="N/A"
											   ng-model-options="{debounce: 200}"
											   ng-model="functions.lookupScore(week.ForWeekNumber,measurable.Id).Measured"
											   class="grid rt {{functions.scorecardColor(functions.lookupScore(week.ForWeekNumber,measurable.Id))}}"
											   data-scoreid="{{Id}}"
											   data-measurable="{{measurable.Id}}"
										       data-week="{{week.ForWeekNumber}}"
											   ng-change="functions.sendUpdate(functions.lookupScore(week.ForWeekNumber,measurable.Id))"
											   id="{{functions.scorecardId(functions.lookupScore(week.ForWeekNumber,measurable.Id),$parent.$index,$index)}}" />
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>