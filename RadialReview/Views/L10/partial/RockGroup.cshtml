@model List<RadialReview.Models.L10.L10Meeting.L10Meeting_Rock>

@foreach (var person in Model.GroupBy(x => x.ForRock.ForUserId))
{
    <div class="component rock-group rock-group-user-id-@person.First().ForRock.AccountableUser.Id">
        @Html.Partial("_Picture", person.First().ForRock.AccountableUser.ImageUrl(true, ImageSize._32))
        <span class="owner">
            @person.First().ForRock.AccountableUser.GetName()
        </span>
        <span data-accountable="@person.First().ForRock.AccountableUser.Id" class="pull-right completion-percentage"><span class="ratio"></span><span class="percentage"></span></span>
        <div class="table-responsive2">
            <table style="width: 100%">
                <tr>
                    <th></th>
                    <th style="width: 1px"></th>
                    <th style="width: 46px"></th>
                </tr>
                @foreach (var i in person)
                {
                    <tr data-owner="@i.ForRock.AccountableUser.Id" class="rock-row user-id-@i.ForRock.AccountableUser.Id rock-id-@i.ForRock.Id">
                        <td class="message multiline2" style="max-width:calc(100% - 275px)" data-rock="@(i.ForRock.Id)">@i.ForRock.Rock</td>
                        <td width="240px" class="rock-state-holder">@Html.EditorFor(x => i.Completion, "RockStateThin", new { name = "rock_" + i.Id })</td>
                        <td width="34px" class="buttonHolder currentBlue">
                            <span class="icon fontastic-icon-pinboard issuesButton issuesModal"
                                  data-meeting="@person.First().L10Meeting.Id"
                                  data-recurrence="@person.First().ForRecurrence.Id"
                                  data-rock="@(i.ForRock.Id)"
                                  data-method="CreateRockIssue"
                                  title="Create a Context-Aware Issue™"></span>
                            <span class="glyphicon glyphicon-unchecked todoButton todoModal"
                                  data-meeting="@person.First().L10Meeting.Id"
                                  data-recurrence="@person.First().ForRecurrence.Id"
                                  data-rock="@(i.ForRock.Id)"
                                  data-method="CreateRockTodo"
                                  title="Create a Context-Aware To-Do™">
                            </span>
                        </td>
                    </tr>
                }
            </table>
        </div>
    </div>
}