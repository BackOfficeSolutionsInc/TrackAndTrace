@model RadialReview.Controllers.ReviewController.ReviewDetailsViewModel
@using RadialReview.Models;
@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Page = Model.Review.ForUser.GetName();
    ViewBag.ExtraTabs = ExtraTab.Create(
        "Review: " + Model.Review.Name, "/Reports/List/" + Model.Review.ForReviewsId,
        ViewBag.Page, "/Review/Details/" + Model.Review.Id
        );

    var pluralized = Model.Review.ForUser.GetName().Trim();
    if (pluralized.ToLower().EndsWith("s"))
    {
        pluralized += "'";
    }
    else
    {
        pluralized += "'s";
    }

    var heading = "Create " + pluralized + " report for '" + Model.Review.Name + "'";
}

@section top{
    <div class="aboveJumbotron"><h2>@heading</h2></div>
    <div class="jumbotron authorized @(Model.Review.ClientReview.Visible?"on":"")">
        <h1>Report</h1>
    </div>
}

@section header{
    @Html.Partial("_ReportsHeader")
}
<a href="top"></a>
<div class="row">
    <div class="col-md-3 ">
        <div class="row">
            <div class="col-sm-6 col-md-12 ">
                <div class="" style="padding-top:5px;font-size:12px">
                    @Html.Partial("_User", Model.Review.ForUser)
                </div>
                <div class="smallBreak2"></div>
            </div>
            <div class="col-sm-6 col-md-12 ">
                <!--SideBar-->
                @Html.Partial("Details/Sidebar", Model)
            </div>
        </div>
        <div class="smallBreak2"></div>
    </div>
    <div class="col-md-9">
        <!--Main Content-->
        @Html.Partial("Details/MainContent", Model)
        <div class="smallBreak"></div>
    </div>
</div>
@using (Html.BeginScripts())
{
    <script src="~/Scripts/jquery/jquery.nouislider.js"></script>
    <script src="/scripts/d3/d3.js"></script>
    <script src="/scripts/d3/d3.csv.js"></script>
    <script src="~/Scripts/bootstrap-switch.js"></script>
    <script src="~/Scripts/review/translateSlider.js"></script>
    <script src="~/Scripts/jquery/jquery.ba-throttle-debounce.js"></script>
    <script src="~/Scripts/d3/Plot.js"></script>
    <script src="~/Scripts/moment.min.js"></script>
    <script type="text/javascript">
        var ReviewId = "@Model.Review.Id";
        var ForReviewsId = "@Model.Review.ForReviewsId";
        var ForUserId = "@Model.Review.ForUserId";
    </script>
    <script src="~/Scripts/report/reportbuilder.js"></script>
}

@using (Html.BeginStyles())
{
    <link href="~/Content/jquery.nouislider.css" rel="stylesheet" />
    <link href="~/Content/Chart/Chart.css" rel="stylesheet" />
    <link href="~/Content/toggle.css" rel="stylesheet" />
    <link href="~/Content/bootstrap-switch.css" rel="stylesheet" />
    <link href="~/Content/ReportBuilder/ReportBuilder.css" rel="stylesheet" />
}
